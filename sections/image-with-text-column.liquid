<section class="homepage-image-column-{{ section.id }}"
data-section-id="{{ section.id }}"
data-aos="{{ settings.scroll_animation }}">
  {% if section.settings.full_width %}<div class="gridlock-fluid"><div class="row">{% endif %}
  <article id="image-columns" class="row">
    {% for block in section.blocks %}
      {% case block.settings.image_width %}
      {% when '25%' %}
        {%- assign image_width = 'desktop-3 tablet-fourth' -%}
      {% when '33%' %}
        {%- assign image_width = 'desktop-4 tablet-2' -%}
      {% when '50%' %}
        {%- assign image_width = 'desktop-6 tablet-3' -%}
      {% when '66%' %}
        {%- assign image_width = 'desktop-8 tablet-4' -%}
      {% when '75%' %}
        {%- assign image_width = 'desktop-9 tablet-three-fourths' -%}
      {% when '100%' %}
        {%- assign image_width = 'desktop-12 tablet-6' -%}
      {% endcase %}

      <div class="image-column {{ image_width }} mobile-3 image-column-{{ block.id }}" {{ block.shopify_attributes }}>
        <div class="image-container">

            {% if block.settings.image != blank %}
            <a href="{{ block.settings.link }}">
              {% render 'basic-responsive-image', type: block.settings.image, data_widths: '[180, 360, 540, 720, 900]' %}
              <noscript>
                <img src="{{ block.settings.image | img_url: '800x' }}" alt="{{ block.settings.image.alt }}">
              </noscript>
            </a>
            {% else %}
              <div class="onboard">
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
              </div>
            {% endif %}
            <div class="text-container">
              {% if block.settings.heading != blank %}
              <div class="text-content">
                <h3 class="text-title">
                  {{ block.settings.heading | escape }}
                </h3>
                  {{ block.settings.rich_text }}
                  {% if block.settings.button != blank %}
                  <span class="cta">
                    <a href="{{ block.settings.link }}">{{ block.settings.button | escape }}</a>
                  </span>
              {% endif %}
               </div>
              {% endif %}
            </div>
          </a>
        </div>
      </div>

      <style>
        /* IMAGE BLOCKS */
        .homepage-image-column-{{ section.id }} {
          background-color: {{ section.settings.promo_background_color }};
        }
        .image-column-{{ block.id }} {
          text-align: {{ block.settings.text_align }};
        }
        .image-column-{{ block.id }} .text-content h3 {
          font-size: {{ section.settings.heading_size }}px;
          color: {{ section.settings.text_color }};
          margin-top: 10px;
        }
        .image-column-{{ block.id }} .text-content p {
          color: {{ section.settings.text_color }};
          margin-top: 10px;
        }
        .image-column-{{ block.id }} .text-content .cta {
          margin-top: 10px;
        }

      </style>
    {% endfor %}
    {% if section.blocks.size == 0 %}
      {% render 'no-blocks' %}
    {% endif %}
  </article>
  {% if section.settings.full_width %}</div></div>{% endif %}
</section>



{% schema %}
{
  "name": "Image column with text",
  "max_blocks": 4,
  "class": "index-section",
  "settings": [
      {
        "type": "checkbox",
        "id": "full_width",
        "label": "Full width"
      },
      {
      "type": "color",
      "id": "promo_background_color",
      "label": "Background color",
      "default": "#fff"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text color",
        "default": "#000000"
      },
      {
        "type": "range",
        "id": "heading_size",
        "min": 12,
        "max": 36,
        "step": 1,
        "unit": "px",
        "label": "Heading size",
        "default": 24
      }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info" : "800px x 600px recommended if 3 per row"
        },
        {
          "type": "select",
          "id": "image_width",
          "label": "Container width",
          "default": "33%",
          "options": [
			      {
               "value":"25%",
               "label":"25%"
            },
            {
               "value":"33%",
               "label":"33%"
            },
            {
               "value":"50%",
               "label":"50%"
            },
            {
               "value":"66%",
               "label":"66%"
            },
            {
               "value":"75%",
               "label":"75%"
            },
            {
               "value":"100%",
               "label":"100%"
            }
          ]
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link",
          "info": "Optional"
        },
       {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Our collections"
       },
       {
        "type": "richtext",
        "id": "rich_text",
        "label": "Text",
        "default": "<p>Enter text to accompany your image.</p>"
       },
       {
        "type": "text",
        "id": "button",
        "label": "Button text",
        "default": "Explore"
       },
       {
         "type": "select",
         "id": "text_align",
         "label": "Text alignment",
         "default": "left",
         "options": [
           {
              "value":"left",
              "label":"Left"
           },
           {
              "value":"center",
              "label":"Center"
           },
           {
              "value":"right",
              "label":"Right"
           }
         ]
       }
      ]
    }
  ],
  "presets": [
    {
      "name": "Image column with text",
      "category": "Image",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}
